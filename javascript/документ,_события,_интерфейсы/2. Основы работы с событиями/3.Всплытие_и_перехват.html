<!DOCTYPE html>
<html lang="ru" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../files/css/master.css">
    <title>Всплытие и перехват</title>
  </head>
  <body>
<div class="wrapper">

<div class="back"><a href="../index.html">&lt;</a></div>
<h2>Всплытие</h2>
<p>При наступлении события обработчики сначала срабатывают на самом вложенном элементе, затем на его родителе, затем выше и так далее, вверх по цепочке вложенности.</p>
<h2>Целевой элемент event.target</h2>
<p>Самый глубокий элемент, который вызывает событие, называется «целевым» или «исходным» элементом и доступен как <code>event.target</code>.</p>
<p>Отличия от <code>this</code> (=<code>event.currentTarget</code>):</p>
<ul>
	<li><code>event.target</code> – это исходный элемент, на котором произошло событие, в процессе всплытия он неизменен.</li>
	<li><code>this</code> – это текущий элемент, до которого дошло всплытие, на нём сейчас выполняется обработчик.</li>
</ul>
<h2>Прекращение всплытия</h2>
<p>Для остановки всплытия нужно вызвать метод <code>event.stopPropagation()</code>.</p>
<pre><code>&lt;body onclick="alert('сюда обработка не дойдёт')">
  &lt;button onclick="event.stopPropagation()">Кликни меня&lt;/button>
&lt;/body></code></pre>
<p>Для того, чтобы полностью остановить обработку, современные браузеры поддерживают метод <code>event.stopImmediatePropagation()</code>.</p>
<h2>Погружение</h2>
<p>Строго говоря, стандарт выделяет целых три стадии прохода события:</p>
<ol>
	<li>Событие сначала идет сверху вниз. Эта стадия называется «стадия перехвата» (capturing stage).</li>
	<li>Событие достигло целевого элемента. Это – «стадия цели» (target stage).</li>
	<li>После этого событие начинает всплывать. Это – «стадия всплытия» (bubbling stage).</li>
</ol>
<p>Чтобы поймать событие на стадии перехвата, нужно использовать третий аргумент <code>addEventListener</code>:</p>
<ul>
	<li>Если аргумент <code>true</code>, то событие будет перехвачено по дороге вниз.</li>
	<li>Если аргумент <code>false</code>, то событие будет поймано при всплытии.</li>
</ul>

</div>
  </body>
</html>
